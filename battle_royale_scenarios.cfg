#textdomain wesnoth-multiplayer

{~add-ons/1Battle_Royale/battle_royale.cfg}

#define BATTLE_ROYALE_STUFF_9
    {BATTLE_ROYALE_SETTINGS}

    {BATTLE_ROYALE_SIDES}

    {BATTLE_ROYALE_EVENTS 9}

#enddef

#define BATTLE_ROYALE_STUFF_20
    {BATTLE_ROYALE_SETTINGS}

    {BATTLE_ROYALE_SIDES_20}

    {BATTLE_ROYALE_EVENTS 20}

#enddef

#define BATTLE_ROYALE_STUFF_40
    {BATTLE_ROYALE_SETTINGS}

    {BATTLE_ROYALE_SIDES_40}

    {BATTLE_ROYALE_EVENTS 40}

#enddef

#define BATTLE_ROYALE_STUFF_100
    {BATTLE_ROYALE_SETTINGS}

    {BATTLE_ROYALE_SIDES_100}

    {BATTLE_ROYALE_EVENTS 100}

#enddef

#define BATTLE_ROYALE_GENERAL_INFO
_"-The goal is to be the last surviving player
-starting at turn 4, the map gradually shrinks every 2 turns, killing any unit near the edge of the map, marked by grey tiles (can be disabled in match settings)
-There are various items scattered across the map, which provides powerful buffs when stepped on. Additionally, killed enemies drop an item (stronger enemies drop rarer loot, level 0 enemies drop nothing. However, there is a 1 in 5 chance for enemies to drop loot from one level higher than their own)
-by default the first 3 sides are human players and the rest are ai, but you can set sides up to side 8 to human, or set sides 2-3 to ai when playing singleplayer in match settings
-all leaders with less than 6mp get the 'quick trait', this stacks with the default '4mp leaders get quick trait' feature
-it is recommended to play this with RPG eras (lvl1 leaders, no recruits)
-when playing multiplayer, it is highly recommended to fill all unused sides with AI instead of leaving them empty"#enddef

#define BATTLE_ROYALE_EXPMULT
50#enddef

[multiplayer]
    id=multiplayer_batte_royale_Morituri
    name= _ "Battle Royale — Morituri"
    map_data="{~add-ons/1Battle_Royale/maps/Morituri_Battle_Royale.map}"
    description= _ "

"+{BATTLE_ROYALE_GENERAL_INFO}
    experience_modifier={BATTLE_ROYALE_EXPMULT}
    {DEFAULT_SCHEDULE}
    {DEFAULT_MUSIC_PLAYLIST}

    {BATTLE_ROYALE_STUFF_9}
    {BATTLE_ROYALE_SHRINK_MAP_AUTOMATIC}

    {BATTLE_ROYALE_SPAWNENEMEIES 1 12 "Giant Rat"}
    {BATTLE_ROYALE_SPAWNENEMEIES 6 6 "Wolf"}
    {BATTLE_ROYALE_SPAWNENEMEIES 10 3 "Great Wolf"}

    [event]
        name=prestart
        {VARIABLE battle_royale_ghostturn 9}#ghosts spawn a bit earlier than on most maps, due to how fast-paced the map is
        [unit]
            type=Direwolf
            random_traits=yes
            generate_name=yes
            side=$battle_royale_enemyside
            x,y=$($map_size.width|/2),$($map_size.height|/2)
            placement=map
            passable=yes
        [/unit]
    [/event]
[/multiplayer]

[multiplayer]
    id=multiplayer_batte_royale_Mokena
    name= _ "Battle Royale — Mokena Prairie"
    map_data="{~add-ons/1Battle_Royale/maps/Mokena_Prairie_Battle_Royale.map}"
    description= _ "

"+{BATTLE_ROYALE_GENERAL_INFO}
    experience_modifier={BATTLE_ROYALE_EXPMULT}
    {DEFAULT_SCHEDULE}
    {DEFAULT_MUSIC_PLAYLIST}

    {BATTLE_ROYALE_STUFF_9}
    {BATTLE_ROYALE_SHRINK_MAP_AUTOMATIC}

    {BATTLE_ROYALE_SPAWNENEMEIES 1 10 "Mudcrawler"}
    {BATTLE_ROYALE_SPAWNENEMEIES 3 8 "Tentacle of the Deep"}
    {BATTLE_ROYALE_SPAWNENEMEIES 7 6 "Giant Mudcrawler"}
    {BATTLE_ROYALE_SPAWNENEMEIES 11 2 "Water Serpent,Cuttle Fish"}


    [event]
        name=prestart
        {VARIABLE battle_royale_ghostturn 12}
        [unit]
            type=Sea Serpent
            random_traits=yes
            generate_name=yes
            side=$battle_royale_enemyside
            x,y=16,16
            placement=map
            passable=yes
        [/unit]
        #spawn lootboxes in the center
        {IF_VAR battle_royale_force_specific_itemspawn not_equals yes (
        [then]
        {BATTLE_ROYALE_PLACE_ITEM_ON_UNOCCUPIED_ALT 1 16 15 (
            {BATTLE_ROYALE_SPAWN_ITEM_SPECIFIC_RARE $tmp_unoccupied_item.x $tmp_unoccupied_item.y lootbox}
        )}
        {BATTLE_ROYALE_PLACE_ITEM_ON_UNOCCUPIED_ALT 1 16 17 (
            {BATTLE_ROYALE_SPAWN_ITEM_SPECIFIC_RARE $tmp_unoccupied_item.x $tmp_unoccupied_item.y lootbox}
        )}
        [/then]
        )}
    [/event]
[/multiplayer]

[multiplayer]
    id=multiplayer_batte_royale_Basilisk
    name= _ "Battle Royale — Caves of the Basilisk"
    map_data="{~add-ons/1Battle_Royale/maps/Caves_of_the_Basilisk_Battle_Royale.map}"
    description= _ "

"+{BATTLE_ROYALE_GENERAL_INFO}
    experience_modifier={BATTLE_ROYALE_EXPMULT}
    {DEFAULT_SCHEDULE}
    {DEFAULT_MUSIC_PLAYLIST}

    {BATTLE_ROYALE_STUFF_9}
    {BATTLE_ROYALE_SHRINK_MAP_AUTOMATIC}

    {BATTLE_ROYALE_SPAWNENEMEIES 1 12 "Giant Rat"}
    {BATTLE_ROYALE_SPAWNENEMEIES 3 8 "Tentacle of the Deep"}
    {BATTLE_ROYALE_SPAWNENEMEIES 7 5 "Saurian Skirmisher,Drake Glider"}
    {BATTLE_ROYALE_SPAWNENEMEIES 11 2 "Swamp Lizard,Water Serpent"}


    [event]
        name=prestart
        {VARIABLE battle_royale_ghostturn 12}
        [unit]
            type=Wild Wyvern#sorta basilisk-like ig
            random_traits=yes
            generate_name=yes
            side=$battle_royale_enemyside
            x,y=21,12
            placement=map
            passable=yes
            [modifications]
                {TRAIT_AGED}
                {TRAIT_SLOW}
                {TRAIT_SLOW}
            [/modifications]
        [/unit]
        #spawn a guaranteed free dragon statue, to fit the original map's petrified statue theme
        {IF_VAR battle_royale_force_specific_itemspawn not_equals yes (
        [then]
            {BATTLE_ROYALE_PLACE_ITEM_ON_UNOCCUPIED_ALT 1 21 12 (
                {BATTLE_ROYALE_SPAWN_ITEM_SPECIFIC_LEGENDARY $tmp_unoccupied_item.x $tmp_unoccupied_item.y dragon_statue}
            )}
        [/then]
        )}
    [/event]
[/multiplayer]

[multiplayer]
    id=multiplayer_batte_royale_Underworld
    name= _ "Battle Royale — Underworld"
    map_data="{~add-ons/1Battle_Royale/maps/Underworld_Battle_Royale.map}"
    description= _ "

"+{BATTLE_ROYALE_GENERAL_INFO}
    experience_modifier={BATTLE_ROYALE_EXPMULT}
    {DEFAULT_SCHEDULE}
    {DEFAULT_MUSIC_PLAYLIST}

    {BATTLE_ROYALE_STUFF_9}
    {BATTLE_ROYALE_SHRINK_MAP_AUTOMATIC}

    {BATTLE_ROYALE_SPAWNENEMEIES 1 10 "Giant Ant"}
    {BATTLE_ROYALE_SPAWNENEMEIES 6 6 "Soldier Ant,Fire Ant"}
    {BATTLE_ROYALE_SPAWNENEMEIES 10 2 "Firebane Ant,Firebomb Ant"}


    [event]
        name=prestart
        {VARIABLE battle_royale_ghostturn 12}
        [unit]
            type=Giant Ant Queen
            name="False Chuchelka"
            random_traits=yes
            generate_name=yes
            side=$battle_royale_enemyside
            x,y=15,11
            placement=map
            passable=yes
        [/unit]
        [unit]
            type=Fire Ant Queen
            name="Queen Chuchelka"
            random_traits=yes
            generate_name=yes
            side=$battle_royale_enemyside
            x,y=13,18
            placement=map
            passable=yes
        [/unit]
        #spawn lootboxes in the center
        {IF_VAR battle_royale_force_specific_itemspawn not_equals yes (
        [then]
        {BATTLE_ROYALE_PLACE_ITEM_ON_UNOCCUPIED_ALT 1 15 4 (
            {BATTLE_ROYALE_SPAWN_ITEM_SPECIFIC_RARE $tmp_unoccupied_item.x $tmp_unoccupied_item.y lootbox}
        )}
        {BATTLE_ROYALE_PLACE_ITEM_ON_UNOCCUPIED_ALT 1 13 25 (
            {BATTLE_ROYALE_SPAWN_ITEM_SPECIFIC_RARE $tmp_unoccupied_item.x $tmp_unoccupied_item.y lootbox}
        )}
        [/then]
        )}
    [/event]
[/multiplayer]

[multiplayer]
    id=multiplayer_batte_royale_volcano
    name= _ "Battle Royale — Volcano"
    map_data="{~add-ons/1Battle_Royale/maps/Volcano_Battle_Royale.map}"
    description= _ "

"+{BATTLE_ROYALE_GENERAL_INFO}
    experience_modifier={BATTLE_ROYALE_EXPMULT}

    {DEFAULT_SCHEDULE}
    {DEFAULT_MUSIC_PLAYLIST}

    {BATTLE_ROYALE_STUFF_9}
    {BATTLE_ROYALE_SHRINK_MAP_AUTOMATIC}

#    {BATTLE_ROYALE_SPAWNENEMEIES 2 8 "Giant Rat"}
#    {BATTLE_ROYALE_SPAWNENEMEIES 6 6 "Giant Rat"}
#    {BATTLE_ROYALE_SPAWNENEMEIES 15 5 "Giant Rat"}

    {BATTLE_ROYALE_SPAWNENEMEIES 1 16 "Giant Rat"}
    {BATTLE_ROYALE_SPAWNENEMEIES 6 6 "Fire Guardian,Drake Glider,Drake Burner"}
    {BATTLE_ROYALE_SPAWNENEMEIES 10 3 "Fire Wraith,Sky Drake"}
    {BATTLE_ROYALE_SPAWNENEMEIES 14 3 "Fire Drake, Drake Flare"}
    {BATTLE_ROYALE_SPAWNENEMEIES 18 2 "Inferno Drake, Drake Flameheart"}

    [event]
        name=prestart
        #ghost turn is significantly delayed compared to most maps, as the main delayed threat is the lvl5 dragon becoming unpetrified
        {VARIABLE battle_royale_ghostturn 20}
        [unit]
            id=dragonboss
            type=Fire Dragon
            random_traits=yes
            generate_name=yes
            side=$battle_royale_enemyside
            x,y=17,18
            placement=map
            passable=yes
            [modifications]
                {TRAIT_AGED}
            [/modifications]
        [/unit]
        [modify_unit]
            [filter]
                id=dragonboss
            [/filter]
            [status]
                petrified=yes
            [/status]
        [/modify_unit]
        #spawn 6 fragments around the center
        {IF_VAR battle_royale_force_specific_itemspawn not_equals yes (
        [then]
        {BATTLE_ROYALE_PLACE_ITEM_ON_UNOCCUPIED_ALT 1 15 18 (
            {BATTLE_ROYALE_SPAWN_ITEM_SPECIFIC_COMMON $tmp_unoccupied_item.x $tmp_unoccupied_item.y legendary_fragment}
        )}
        {BATTLE_ROYALE_PLACE_ITEM_ON_UNOCCUPIED_ALT 1 16 16 (
            {BATTLE_ROYALE_SPAWN_ITEM_SPECIFIC_COMMON $tmp_unoccupied_item.x $tmp_unoccupied_item.y legendary_fragment}
        )}
        {BATTLE_ROYALE_PLACE_ITEM_ON_UNOCCUPIED_ALT 1 18 16 (
            {BATTLE_ROYALE_SPAWN_ITEM_SPECIFIC_COMMON $tmp_unoccupied_item.x $tmp_unoccupied_item.y legendary_fragment}
        )}
        {BATTLE_ROYALE_PLACE_ITEM_ON_UNOCCUPIED_ALT 1 19 18 (
            {BATTLE_ROYALE_SPAWN_ITEM_SPECIFIC_COMMON $tmp_unoccupied_item.x $tmp_unoccupied_item.y legendary_fragment}
        )}
        {BATTLE_ROYALE_PLACE_ITEM_ON_UNOCCUPIED_ALT 1 18 19 (
            {BATTLE_ROYALE_SPAWN_ITEM_SPECIFIC_COMMON $tmp_unoccupied_item.x $tmp_unoccupied_item.y legendary_fragment}
        )}
        {BATTLE_ROYALE_PLACE_ITEM_ON_UNOCCUPIED_ALT 1 16 19 (
            {BATTLE_ROYALE_SPAWN_ITEM_SPECIFIC_COMMON $tmp_unoccupied_item.x $tmp_unoccupied_item.y legendary_fragment}
        )}
        [/then]
        )}
    [/event]
    [event]
        name=turn 12
        [modify_unit]
            [filter]
                id=dragonboss
            [/filter]
            [status]
                petrified=no
                slowed=yes#one turn of slow, while the dragon is still "thawing out"
            [/status]
        [/modify_unit]
        [message]
            speaker=dragonboss
            message=_"<b>RRRRRRRRRRRRRRAAAAGH!!!</b> Freedom at last! Time to eat!"
        [/message]
    [/event]
[/multiplayer]

[multiplayer]
    id=multiplayer_batte_royale_volcano_20p
    name= _ "Battle Royale — Volcano 20p"
    map_data="{~add-ons/1Battle_Royale/maps/Volcano_Battle_Royale.map}"
    description= _ "

"+{BATTLE_ROYALE_GENERAL_INFO}
    experience_modifier={BATTLE_ROYALE_EXPMULT}

    {DEFAULT_SCHEDULE}
    {DEFAULT_MUSIC_PLAYLIST}

    {BATTLE_ROYALE_STUFF_20}
    {BATTLE_ROYALE_SHRINK_MAP_AUTOMATIC}

#    {BATTLE_ROYALE_SPAWNENEMEIES 2 8 "Giant Rat"}
#    {BATTLE_ROYALE_SPAWNENEMEIES 6 6 "Giant Rat"}
#    {BATTLE_ROYALE_SPAWNENEMEIES 15 5 "Giant Rat"}

    {BATTLE_ROYALE_SPAWNENEMEIES 1 24 "Giant Rat"}
    {BATTLE_ROYALE_SPAWNENEMEIES 6 9 "Fire Guardian,Drake Glider,Drake Burner"}
    {BATTLE_ROYALE_SPAWNENEMEIES 10 4 "Fire Wraith,Sky Drake"}
    {BATTLE_ROYALE_SPAWNENEMEIES 14 4 "Fire Drake, Drake Flare"}
    {BATTLE_ROYALE_SPAWNENEMEIES 18 3 "Inferno Drake, Drake Flameheart"}

    [event]
        name=prestart
        #ghost turn is significantly delayed compared to most maps, as the main delayed threat is the lvl5 dragon becoming unpetrified
        {VARIABLE battle_royale_ghostturn 20}
        [unit]
            id=dragonboss
            type=Fire Dragon
            random_traits=yes
            generate_name=yes
            side=$battle_royale_enemyside
            x,y=17,18
            placement=map
            passable=yes
            [modifications]
                {TRAIT_AGED}
            [/modifications]
        [/unit]
        [modify_unit]
            [filter]
                id=dragonboss
            [/filter]
            [status]
                petrified=yes
            [/status]
        [/modify_unit]
        #spawn 6 fragments around the center
        {IF_VAR battle_royale_force_specific_itemspawn not_equals yes (
        [then]
        {BATTLE_ROYALE_PLACE_ITEM_ON_UNOCCUPIED_ALT 1 15 18 (
            {BATTLE_ROYALE_SPAWN_ITEM_SPECIFIC_COMMON $tmp_unoccupied_item.x $tmp_unoccupied_item.y legendary_fragment}
        )}
        {BATTLE_ROYALE_PLACE_ITEM_ON_UNOCCUPIED_ALT 1 16 16 (
            {BATTLE_ROYALE_SPAWN_ITEM_SPECIFIC_COMMON $tmp_unoccupied_item.x $tmp_unoccupied_item.y legendary_fragment}
        )}
        {BATTLE_ROYALE_PLACE_ITEM_ON_UNOCCUPIED_ALT 1 18 16 (
            {BATTLE_ROYALE_SPAWN_ITEM_SPECIFIC_COMMON $tmp_unoccupied_item.x $tmp_unoccupied_item.y legendary_fragment}
        )}
        {BATTLE_ROYALE_PLACE_ITEM_ON_UNOCCUPIED_ALT 1 19 18 (
            {BATTLE_ROYALE_SPAWN_ITEM_SPECIFIC_COMMON $tmp_unoccupied_item.x $tmp_unoccupied_item.y legendary_fragment}
        )}
        {BATTLE_ROYALE_PLACE_ITEM_ON_UNOCCUPIED_ALT 1 18 19 (
            {BATTLE_ROYALE_SPAWN_ITEM_SPECIFIC_COMMON $tmp_unoccupied_item.x $tmp_unoccupied_item.y legendary_fragment}
        )}
        {BATTLE_ROYALE_PLACE_ITEM_ON_UNOCCUPIED_ALT 1 16 19 (
            {BATTLE_ROYALE_SPAWN_ITEM_SPECIFIC_COMMON $tmp_unoccupied_item.x $tmp_unoccupied_item.y legendary_fragment}
        )}
        [/then]
        )}
    [/event]
    [event]
        name=turn 12
        [modify_unit]
            [filter]
                id=dragonboss
            [/filter]
            [status]
                petrified=no
                slowed=yes#one turn of slow, while the dragon is still "thawing out"
            [/status]
        [/modify_unit]
        [message]
            speaker=dragonboss
            message=_"<b>RRRRRRRRRRRRRRAAAAGH!!!</b> Freedom at last! Time to eat!"
        [/message]
    [/event]
[/multiplayer]


#commented out for now, as the map is pretty bad for battle royale
#[multiplayer]
#    id=multiplayer_batte_royale_onis
#    name= _ "Battle Royale — Den of Onis"
#    map_data="{~add-ons/1Battle_Royale/maps/Den_of_Onis_Battle_Royale.map}"
#    description= _ "TODO: add proper description
#
#Note: when playing multiplayer, it is highly recommended to fill all unused sides with AI instead of leaving them empty"
#    experience_modifier={BATTLE_ROYALE_EXPMULT}
#    {DEFAULT_SCHEDULE}
#    {DEFAULT_MUSIC_PLAYLIST}
#
#    {BATTLE_ROYALE_STUFF_9}
#    {BATTLE_ROYALE_SHRINK_MAP_AUTOMATIC}
#
#    {BATTLE_ROYALE_SPAWNENEMEIES 1 10 "Goblin Spearman"}
#    {BATTLE_ROYALE_SPAWNENEMEIES 6 5 "Orcish Grunt,Orcish Archer"}
#    {BATTLE_ROYALE_SPAWNENEMEIES 10 2 "Orcish Warrior,Orcish Crossbowman"}
#
#
#    [event]
#        name=prestart
#        {VARIABLE battle_royale_ghostturn 9}#ghosts spawn a bit earlier than on most maps, due to how fast-paced the map is
#        #decided to downgrade this map's "boss" to lvl2 instead of the usual lvl3-4s, considering how tightly-packed it is
#        [unit]
#            type=Orcish Ruler
#            random_traits=yes
#            generate_name=yes
#            side=$battle_royale_enemyside
#            x,y=16,11
#            placement=map
#            passable=yes
#        [/unit]
#    [/event]
#[/multiplayer]

[multiplayer]
    id=multiplayer_batte_royale_Arcanclave
    name= _ "Battle Royale — Arcanclave Citadel"
    map_data="{~add-ons/1Battle_Royale/maps/Arcanclave_Citadel_Battle_Royale.map}"
    description= _ "

"+{BATTLE_ROYALE_GENERAL_INFO}
    experience_modifier={BATTLE_ROYALE_EXPMULT}

    {DEFAULT_SCHEDULE}
    {DEFAULT_MUSIC_PLAYLIST}

    {BATTLE_ROYALE_STUFF_9}
#    {BATTLE_ROYALE_SHRINK_MAP_AUTOMATIC}
    {BATTLE_ROYALE_SHRINK_MAP_AUTOMATIC_MORE_FORGIVING}

#    {BATTLE_ROYALE_SPAWNENEMEIES 2 8 "Giant Rat"}
#    {BATTLE_ROYALE_SPAWNENEMEIES 6 6 "Giant Rat"}
#    {BATTLE_ROYALE_SPAWNENEMEIES 15 5 "Giant Rat"}

    #TODO: make the arcanclave enemy spawns a little more interesting

    {BATTLE_ROYALE_SPAWNENEMEIES 1 20 "Giant Rat"}
    {BATTLE_ROYALE_SPAWNENEMEIES 6 8 "Soulless"}
    {BATTLE_ROYALE_SPAWNENEMEIES 10 3 "Great Wolf"}

    [event]
        name=prestart
        {VARIABLE battle_royale_ghostturn 14}
        [unit]
            type=Yeti
            random_traits=yes
            generate_name=yes
            side=$battle_royale_enemyside
            x,y=$($map_size.width|/2),$($map_size.height|/2)
            placement=map
            passable=yes
        [/unit]
    [/event]
[/multiplayer]

[multiplayer]
    id=multiplayer_batte_royale_Arcanclave_20p
    name= _ "Battle Royale — Arcanclave Citadel 20p"
    map_data="{~add-ons/1Battle_Royale/maps/Arcanclave_Citadel_Battle_Royale.map}"
    description= _ "8 player sides, 11 bots and 1 side for mobs

warning - some mods won't work for sides above 9, like XP Bank/Alliances Mod. Makes sure that human players are in the first 8 sides. The rest can be filled with AI

"+{BATTLE_ROYALE_GENERAL_INFO}

    experience_modifier={BATTLE_ROYALE_EXPMULT}

    {DEFAULT_SCHEDULE}
    {DEFAULT_MUSIC_PLAYLIST}

    {BATTLE_ROYALE_STUFF_20}
#    {BATTLE_ROYALE_SHRINK_MAP_AUTOMATIC}
    {BATTLE_ROYALE_SHRINK_MAP_AUTOMATIC_MORE_FORGIVING}

#    {BATTLE_ROYALE_SPAWNENEMEIES 2 8 "Giant Rat"}
#    {BATTLE_ROYALE_SPAWNENEMEIES 6 6 "Giant Rat"}
#    {BATTLE_ROYALE_SPAWNENEMEIES 15 5 "Giant Rat"}

    {BATTLE_ROYALE_SPAWNENEMEIES 1 30 "Giant Rat"}
    {BATTLE_ROYALE_SPAWNENEMEIES 6 12 "Soulless"}
    {BATTLE_ROYALE_SPAWNENEMEIES 10 5 "Great Wolf"}

    [event]
        name=prestart
        {VARIABLE battle_royale_ghostturn 14}
        [unit]
            type=Yeti
            random_traits=yes
            generate_name=yes
            side=$battle_royale_enemyside
            x,y=$($map_size.width|/2),$($map_size.height|/2)
            placement=map
            passable=yes
        [/unit]
    [/event]
[/multiplayer]

[multiplayer]
    id=multiplayer_batte_royale_Arcanclave_40p
    name= _ "Battle Royale — Arcanclave Citadel 40p"
    map_data="{~add-ons/1Battle_Royale/maps/Arcanclave_Citadel_Battle_Royale.map}"
    description= _ "8 player sides, 31 bots and 1 side for mobs

warning - some mods won't work for sides above 9, like XP Bank/Alliances Mod. Makes sure that human players are in the first 9 sides. The rest can be filled with AI

"+{BATTLE_ROYALE_GENERAL_INFO}
    experience_modifier={BATTLE_ROYALE_EXPMULT}

    {DEFAULT_SCHEDULE}
    {DEFAULT_MUSIC_PLAYLIST}

    {BATTLE_ROYALE_STUFF_40}
#    {BATTLE_ROYALE_SHRINK_MAP_AUTOMATIC}
    {BATTLE_ROYALE_SHRINK_MAP_AUTOMATIC_MORE_FORGIVING}

#    {BATTLE_ROYALE_SPAWNENEMEIES 2 8 "Giant Rat"}
#    {BATTLE_ROYALE_SPAWNENEMEIES 6 6 "Giant Rat"}
#    {BATTLE_ROYALE_SPAWNENEMEIES 15 5 "Giant Rat"}

    {BATTLE_ROYALE_SPAWNENEMEIES 1 45 "Giant Rat"}
    {BATTLE_ROYALE_SPAWNENEMEIES 6 18 "Soulless"}
    {BATTLE_ROYALE_SPAWNENEMEIES 10 6 "Great Wolf"}

    [event]
        name=prestart
        {VARIABLE battle_royale_ghostturn 14}
        [unit]
            type=Yeti
            random_traits=yes
            generate_name=yes
            side=$battle_royale_enemyside
            x,y=$($map_size.width|/2),$($map_size.height|/2)
            placement=map
            passable=yes
        [/unit]
    [/event]
[/multiplayer]


[multiplayer]
    id=multiplayer_batte_royale_Arcanclave_100p
    name= _ "Battle Royale — Arcanclave Citadel 100p"
    map_data="{~add-ons/1Battle_Royale/maps/Arcanclave_Citadel_Battle_Royale.map}"
    description= _ "

warning - some mods won't work for sides above 9, like XP Bank/Alliances Mod. Makes sure that human players are in the first 9 sides. The rest can be filled with AI

WARNING: AI turns will take very long, not recommended for low-end PCs

"+{BATTLE_ROYALE_GENERAL_INFO}
    experience_modifier={BATTLE_ROYALE_EXPMULT}

    {DEFAULT_SCHEDULE}
    {DEFAULT_MUSIC_PLAYLIST}

    {BATTLE_ROYALE_STUFF_100}
#    {BATTLE_ROYALE_SHRINK_MAP_AUTOMATIC}
    {BATTLE_ROYALE_SHRINK_MAP_AUTOMATIC_MORE_FORGIVING}

#    {BATTLE_ROYALE_SPAWNENEMEIES 2 8 "Giant Rat"}
#    {BATTLE_ROYALE_SPAWNENEMEIES 6 6 "Giant Rat"}
#    {BATTLE_ROYALE_SPAWNENEMEIES 15 5 "Giant Rat"}

    {BATTLE_ROYALE_SPAWNENEMEIES 1 75 "Giant Rat"}
    {BATTLE_ROYALE_SPAWNENEMEIES 6 30 "Soulless"}
    {BATTLE_ROYALE_SPAWNENEMEIES 10 7 "Great Wolf"}#the lvl2 wave isn't too much bigger than usual, since by then most units would be dead, and the ghost wave is already dangerous enough

    [event]
        name=prestart
        {VARIABLE battle_royale_ghostturn 14}
        [unit]
            type=Yeti
            random_traits=yes
            generate_name=yes
            side=$battle_royale_enemyside
            x,y=$($map_size.width|/2),$($map_size.height|/2)
            placement=map
            passable=yes
        [/unit]
    [/event]
[/multiplayer]

[multiplayer]
    id=multiplayer_batte_royale_wilderlands
    name= _ "Battle Royale — Wilderlands"
    map_data="{~add-ons/1Battle_Royale/maps/The_Wilderlands_Battle_Royale.map}"
    description= _ "

"+{BATTLE_ROYALE_GENERAL_INFO}
    experience_modifier={BATTLE_ROYALE_EXPMULT}
    {DEFAULT_SCHEDULE}
    {DEFAULT_MUSIC_PLAYLIST}

    {BATTLE_ROYALE_STUFF_9}
#    {BATTLE_ROYALE_SHRINK_MAP_AUTOMATIC}
    {BATTLE_ROYALE_SHRINK_MAP_AUTOMATIC_MORE_FORGIVING}

    {BATTLE_ROYALE_SPAWNENEMEIES 1 20 "Giant Rat"}
    {BATTLE_ROYALE_SPAWNENEMEIES 1 16 "Tentacle of the Deep"}
    {BATTLE_ROYALE_SPAWNENEMEIES 7 7 "Wolf,Young Ogre"}
    {BATTLE_ROYALE_SPAWNENEMEIES 11 3 "Great Wolf,Ogre"}
    {BATTLE_ROYALE_SPAWNENEMEIES 16 1 "Giant Spider"}

    [event]
        name=prestart
        {VARIABLE battle_royale_ghostturn 14}
        [unit]
            type=Sea Serpent
            random_traits=yes
            generate_name=yes
            side=$battle_royale_enemyside
            x,y=38,36
            placement=map
            passable=yes
        [/unit]
        [unit]
            type=Skeletal Dragon
            random_traits=yes
            generate_name=yes
            side=$battle_royale_enemyside
            x,y=20,12
            placement=map
            passable=yes
        [/unit]
        [unit]
            type=Ogre
            random_traits=yes
            generate_name=yes
            side=$battle_royale_enemyside
            x,y=23,21
            placement=map
            passable=yes
        [/unit]
        [unit]
            type=Young Ogre
            random_traits=yes
            generate_name=yes
            side=$battle_royale_enemyside
            x,y=24,20
            placement=map
            passable=yes
        [/unit]
    [/event]
[/multiplayer]

[multiplayer]
    id=multiplayer_batte_royale_wilderlands_20p
    name= _ "Battle Royale — Wilderlands 20p"
    map_data="{~add-ons/1Battle_Royale/maps/The_Wilderlands_Battle_Royale.map}"
    description= _ "8 player sides, 11 bots and 1 side for mobs

warning - some mods won't work for sides above 9, like XP Bank/Alliances Mod. Makes sure that human players are in the first 9 sides. The rest can be filled with AI

"+{BATTLE_ROYALE_GENERAL_INFO}
    experience_modifier={BATTLE_ROYALE_EXPMULT}
    {DEFAULT_SCHEDULE}
    {DEFAULT_MUSIC_PLAYLIST}

    {BATTLE_ROYALE_STUFF_20}
#    {BATTLE_ROYALE_SHRINK_MAP_AUTOMATIC}
    {BATTLE_ROYALE_SHRINK_MAP_AUTOMATIC_MORE_FORGIVING}

    {BATTLE_ROYALE_SPAWNENEMEIES 1 30 "Giant Rat"}
    {BATTLE_ROYALE_SPAWNENEMEIES 1 24 "Tentacle of the Deep"}
    {BATTLE_ROYALE_SPAWNENEMEIES 7 11 "Wolf,Young Ogre"}
    {BATTLE_ROYALE_SPAWNENEMEIES 11 4 "Great Wolf,Ogre"}
    {BATTLE_ROYALE_SPAWNENEMEIES 16 2 "Giant Spider"}

    [event]
        name=prestart
        {VARIABLE battle_royale_ghostturn 14}
        [unit]
            type=Sea Serpent
            random_traits=yes
            generate_name=yes
            side=$battle_royale_enemyside
            x,y=38,36
            placement=map
            passable=yes
        [/unit]
        [unit]
            type=Skeletal Dragon
            random_traits=yes
            generate_name=yes
            side=$battle_royale_enemyside
            x,y=20,12
            placement=map
            passable=yes
        [/unit]
        [unit]
            type=Ogre
            random_traits=yes
            generate_name=yes
            side=$battle_royale_enemyside
            x,y=23,21
            placement=map
            passable=yes
        [/unit]
        [unit]
            type=Young Ogre
            random_traits=yes
            generate_name=yes
            side=$battle_royale_enemyside
            x,y=24,20
            placement=map
            passable=yes
        [/unit]
    [/event]
[/multiplayer]

[multiplayer]
    id=multiplayer_batte_royale_wilderlands_40p
    name= _ "Battle Royale — Wilderlands 40p"
    map_data="{~add-ons/1Battle_Royale/maps/The_Wilderlands_Battle_Royale.map}"
    description= _ "8 player sides, 31 bots and 1 side for mobs

warning - some mods won't work for sides above 9, like XP Bank/Alliances Mod. Makes sure that human players are in the first 9 sides. The rest can be filled with AI

"+{BATTLE_ROYALE_GENERAL_INFO}
    experience_modifier={BATTLE_ROYALE_EXPMULT}
    {DEFAULT_SCHEDULE}
    {DEFAULT_MUSIC_PLAYLIST}

    {BATTLE_ROYALE_STUFF_40}
#    {BATTLE_ROYALE_SHRINK_MAP_AUTOMATIC}
    {BATTLE_ROYALE_SHRINK_MAP_AUTOMATIC_MORE_FORGIVING}

    {BATTLE_ROYALE_SPAWNENEMEIES 1 45 "Giant Rat"}
    {BATTLE_ROYALE_SPAWNENEMEIES 1 36 "Tentacle of the Deep"}
    {BATTLE_ROYALE_SPAWNENEMEIES 7 14 "Wolf,Young Ogre"}
    {BATTLE_ROYALE_SPAWNENEMEIES 11 6 "Great Wolf,Ogre"}
    {BATTLE_ROYALE_SPAWNENEMEIES 16 2 "Giant Spider"}

    [event]
        name=prestart
        {VARIABLE battle_royale_ghostturn 14}
        [unit]
            type=Sea Serpent
            random_traits=yes
            generate_name=yes
            side=$battle_royale_enemyside
            x,y=38,36
            placement=map
            passable=yes
        [/unit]
        [unit]
            type=Skeletal Dragon
            random_traits=yes
            generate_name=yes
            side=$battle_royale_enemyside
            x,y=20,12
            placement=map
            passable=yes
        [/unit]
        [unit]
            type=Ogre
            random_traits=yes
            generate_name=yes
            side=$battle_royale_enemyside
            x,y=23,21
            placement=map
            passable=yes
        [/unit]
        [unit]
            type=Young Ogre
            random_traits=yes
            generate_name=yes
            side=$battle_royale_enemyside
            x,y=24,20
            placement=map
            passable=yes
        [/unit]
    [/event]
[/multiplayer]

[multiplayer]
    id=multiplayer_batte_royale_terradwelve
    name= _ "Battle Royale — Ruins of Terra Dwelve"
    map_data="{~add-ons/1Battle_Royale/maps/Terra_Dwelve_Battle_Royale.map}"
    description= _ "TODO: add proper description

Note: when playing multiplayer, it is highly recommended to fill all unused sides with AI instead of leaving them empty

"+{BATTLE_ROYALE_GENERAL_INFO}
    experience_modifier={BATTLE_ROYALE_EXPMULT}

    {DEFAULT_SCHEDULE}
    {DEFAULT_MUSIC_PLAYLIST}

    {BATTLE_ROYALE_STUFF_9}
#    {BATTLE_ROYALE_SHRINK_MAP_AUTOMATIC}
    {BATTLE_ROYALE_SHRINK_MAP_AUTOMATIC_MORE_FORGIVING}

#    {BATTLE_ROYALE_SPAWNENEMEIES 2 8 "Giant Rat"}
#    {BATTLE_ROYALE_SPAWNENEMEIES 6 6 "Giant Rat"}
#    {BATTLE_ROYALE_SPAWNENEMEIES 15 5 "Giant Rat"}

    {BATTLE_ROYALE_SPAWNENEMEIES 1 16 "Walking Corpse"}
    {BATTLE_ROYALE_SPAWNENEMEIES 7 6 "Skeleton,Skeleton Archer"}
    {BATTLE_ROYALE_SPAWNENEMEIES 12 3 "Revenant,Bone Shooter"}

    [event]
        name=prestart
        {VARIABLE battle_royale_ghostturn 14}
        [unit]
            type=Death Knight
            random_traits=yes
            generate_name=yes
            side=$battle_royale_enemyside
            x,y=20,13
            placement=map
            passable=yes
        [/unit]
        [unit]
            type=Death Knight
            random_traits=yes
            generate_name=yes
            side=$battle_royale_enemyside
            x,y=21,28
            placement=map
            passable=yes
        [/unit]
    [/event]
[/multiplayer]

[multiplayer]
    id=multiplayer_batte_royale_terradwelve_20p
    name= _ "Battle Royale — Ruins of Terra Dwelve 20p"
    map_data="{~add-ons/1Battle_Royale/maps/Terra_Dwelve_Battle_Royale.map}"
    description= _ "8 player sides, 11 bots and 1 side for mobs

warning - some mods won't work for sides above 9, like XP Bank/Alliances Mod. Makes sure that human players are in the first 9 sides. The rest can be filled with AI

"+{BATTLE_ROYALE_GENERAL_INFO}
    experience_modifier={BATTLE_ROYALE_EXPMULT}

    {DEFAULT_SCHEDULE}
    {DEFAULT_MUSIC_PLAYLIST}

    {BATTLE_ROYALE_STUFF_20}
#    {BATTLE_ROYALE_SHRINK_MAP_AUTOMATIC}
    {BATTLE_ROYALE_SHRINK_MAP_AUTOMATIC_MORE_FORGIVING}

#    {BATTLE_ROYALE_SPAWNENEMEIES 2 8 "Giant Rat"}
#    {BATTLE_ROYALE_SPAWNENEMEIES 6 6 "Giant Rat"}
#    {BATTLE_ROYALE_SPAWNENEMEIES 15 5 "Giant Rat"}

    {BATTLE_ROYALE_SPAWNENEMEIES 1 24 "Walking Corpse"}
    {BATTLE_ROYALE_SPAWNENEMEIES 7 9 "Skeleton,Skeleton Archer"}
    {BATTLE_ROYALE_SPAWNENEMEIES 12 4 "Revenant,Bone Shooter"}

    [event]
        name=prestart
        {VARIABLE battle_royale_ghostturn 14}
        [unit]
            type=Death Knight
            random_traits=yes
            generate_name=yes
            side=$battle_royale_enemyside
            x,y=20,13
            placement=map
            passable=yes
        [/unit]
        [unit]
            type=Death Knight
            random_traits=yes
            generate_name=yes
            side=$battle_royale_enemyside
            x,y=21,28
            placement=map
            passable=yes
        [/unit]
    [/event]
[/multiplayer]


[multiplayer]
    id=multiplayer_batte_royale_king_of_the_hill
    name= _ "Battle Royale — King of the Hill"
    map_data="{~add-ons/1Battle_Royale/maps/King_of_the_Hill_Battle_Royale.map}"
    description= _ "TODO: add proper description

Note: when playing multiplayer, it is highly recommended to fill all unused sides with AI instead of leaving them empty

"+{BATTLE_ROYALE_GENERAL_INFO}
    experience_modifier={BATTLE_ROYALE_EXPMULT}

    {DEFAULT_SCHEDULE}
    {DEFAULT_MUSIC_PLAYLIST}

    {BATTLE_ROYALE_STUFF_9}
#    {BATTLE_ROYALE_SHRINK_MAP_AUTOMATIC}
    {BATTLE_ROYALE_SHRINK_MAP_AUTOMATIC_MORE_FORGIVING}

    {BATTLE_ROYALE_SPAWNENEMEIES 1 16 "Peasant"}
    {BATTLE_ROYALE_SPAWNENEMEIES 7 6 "Spearman,Bowman,Heavy Infantryman"}
    {BATTLE_ROYALE_SPAWNENEMEIES 12 3 "Pikeman,Swordsman,Longbowman,Shock Trooper"}
    {BATTLE_ROYALE_SPAWNENEMEIES 18 2 "Royal Guard,Master bowman,Iron Mauler"}

    [event]
        name=prestart
        #ghost turn is significantly delayed compared to most maps, as the main delayed threat is the king
        {VARIABLE battle_royale_ghostturn 20}
        #taking the whole "king of the hill" thing very literally :)
        [unit]
            id=kingboss
            type=Royal Warrior
            name=_"King of the Hill"
            random_traits=yes
            generate_name=yes
            side=$battle_royale_enemyside
            x,y=18,18
            placement=map
            passable=yes
            facing=se
            level=5#drops better loot
            random_traits=no
            [modifications]
                [trait]
                    id=battleroyale_customboss_stats
                    male_name=_"king"
                    [effect]
                        apply_to=attack
                        range=melee
                        increase_damage=50%
                    [/effect]
                    [effect]
                        apply_to=hitpoints
                        increase_total=100%
                    [/effect]
                    #starts very slow, but gets faster later
                    [effect]
                        apply_to=movement
                        set=2
                    [/effect]
                [/trait]
            [/modifications]
        [/unit]
        #spawn a guaranteed free scepter of fire on the center of the map, to make it easier to kill the king
        {IF_VAR battle_royale_force_specific_itemspawn not_equals yes (
        [then]
            {BATTLE_ROYALE_PLACE_ITEM_ON_UNOCCUPIED_ALT 1 18 18 (
                {BATTLE_ROYALE_SPAWN_ITEM_SPECIFIC_LEGENDARY $tmp_unoccupied_item.x $tmp_unoccupied_item.y sceptre_of_fire}
            )}
        [/then]
        )}
    [/event]
    [event]
        name=turn 12
        [object]
            duration=forever
            silent=yes
            [filter]
                id=kingboss
            [/filter]
            [effect]
                apply_to=movement
                increase=2
            [/effect]
        [/object]
        [message]
            speaker=kingboss
            message=_"The time for games is over! I am the king of this hill dammit!"
        [/message]
    [/event]
    #after depth 18, becomes very fast
    [event]
        name=turn 18
        [object]
            duration=forever
            silent=yes
            [filter]
                id=kingboss
            [/filter]
            [effect]
                apply_to=movement
                increase=2
            [/effect]
        [/object]
        [message]
            speaker=kingboss
            message=_"This is taking forever! I will not tolerate this delay any longer!"
        [/message]
    [/event]
    [event]
        name=attack
        [filter_second]
            id=kingboss
        [/filter_second]
        [message]
            speaker=kingboss
            message=_"You dare challenge the king?! I shall execute thee for high treason myself!"
        [/message]
    [/event]
[/multiplayer]


[multiplayer]
    id=multiplayer_batte_royale_king_of_the_hill_20p
    name= _ "Battle Royale — King of the Hill 20p"
    map_data="{~add-ons/1Battle_Royale/maps/King_of_the_Hill_Battle_Royale.map}"
    description= _ "TODO: add proper description

Note: when playing multiplayer, it is highly recommended to fill all unused sides with AI instead of leaving them empty

"+{BATTLE_ROYALE_GENERAL_INFO}
    experience_modifier={BATTLE_ROYALE_EXPMULT}

    {DEFAULT_SCHEDULE}
    {DEFAULT_MUSIC_PLAYLIST}

    {BATTLE_ROYALE_STUFF_20}
#    {BATTLE_ROYALE_SHRINK_MAP_AUTOMATIC}
    {BATTLE_ROYALE_SHRINK_MAP_AUTOMATIC_MORE_FORGIVING}

    {BATTLE_ROYALE_SPAWNENEMEIES 1 24 "Peasant"}
    {BATTLE_ROYALE_SPAWNENEMEIES 7 9 "Spearman,Bowman,Heavy Infantryman"}
    {BATTLE_ROYALE_SPAWNENEMEIES 12 4 "Pikeman,Swordsman,Longbowman,Shock Trooper"}
    {BATTLE_ROYALE_SPAWNENEMEIES 18 3 "Royal Guard,Master bowman,Iron Mauler"}

    [event]
        name=prestart
        #ghost turn is significantly delayed compared to most maps, as the main delayed threat is the king
        {VARIABLE battle_royale_ghostturn 20}
        #taking the whole "king of the hill" thing very literally :)
        [unit]
            id=kingboss
            type=Royal Warrior
            name=_"King of the Hill"
            random_traits=yes
            generate_name=yes
            side=$battle_royale_enemyside
            x,y=18,18
            placement=map
            passable=yes
            facing=se
            level=5#drops better loot
            random_traits=no
            [modifications]
                [trait]
                    id=battleroyale_customboss_stats
                    male_name=_"king"
                    [effect]
                        apply_to=attack
                        range=melee
                        increase_damage=50%
                    [/effect]
                    [effect]
                        apply_to=hitpoints
                        increase_total=150%#giving 150% instead of 100% stat boost for 20p
                    [/effect]
                    #starts very slow, but gets faster later
                    [effect]
                        apply_to=movement
                        set=2
                    [/effect]
                [/trait]
            [/modifications]
        [/unit]
        #spawn a guaranteed free scepter of fire on the center of the map, to make it easier to kill the king
        {IF_VAR battle_royale_force_specific_itemspawn not_equals yes (
        [then]
            {BATTLE_ROYALE_PLACE_ITEM_ON_UNOCCUPIED_ALT 1 18 18 (
                {BATTLE_ROYALE_SPAWN_ITEM_SPECIFIC_LEGENDARY $tmp_unoccupied_item.x $tmp_unoccupied_item.y sceptre_of_fire}
            )}
        [/then]
        )}
    [/event]
    [event]
        name=turn 12
        [object]
            duration=forever
            silent=yes
            [filter]
                id=kingboss
            [/filter]
            [effect]
                apply_to=movement
                increase=2
            [/effect]
        [/object]
        [message]
            speaker=kingboss
            message=_"The time for games is over! I am the king of this hill dammit!"
        [/message]
    [/event]
    #after depth 18, becomes very fast
    [event]
        name=turn 18
        [object]
            duration=forever
            silent=yes
            [filter]
                id=kingboss
            [/filter]
            [effect]
                apply_to=movement
                increase=2
            [/effect]
        [/object]
        [message]
            speaker=kingboss
            message=_"This is taking forever! I will not tolerate this delay any longer!"
        [/message]
    [/event]
    [event]
        name=attack
        [filter_second]
            id=kingboss
        [/filter_second]
        [message]
            speaker=kingboss
            message=_"You dare challenge the king?! I shall execute thee for high treason myself!"
        [/message]
    [/event]
[/multiplayer]

#since the map is so huge and you're unlikely to run into other players at 9p, decided to make 20p the minimum for now, might backport to 9p later

#very laggy, not sure whether to even keep the damn thing since it's not really that fun to play imo. I can comment it out, but reuse some ideas like big random enemy lists/stat-buffed boss

#upd: made it wmg-exclusive for now

#ifdef WMG_EXLUSIVE
[multiplayer]
    id=multiplayer_batte_royale_colossal_maze
    name= _ "Battle Royale — Colossal Maze - 20p (WMG Exclusive)"
    map_data="{~add-ons/1Battle_Royale/maps/Colossal_Maze_Battle_Royale.map}"
    description= _ "WARNING: this is a huge map, so it can be VERY LAGGY at times, so decided to make it WMG-exclusive for now instead of outright deleting it

    "+{BATTLE_ROYALE_GENERAL_INFO}
    experience_modifier={BATTLE_ROYALE_EXPMULT}

    {DEFAULT_SCHEDULE}
    {DEFAULT_MUSIC_PLAYLIST}

#    {BATTLE_ROYALE_STUFF_9}
    {BATTLE_ROYALE_STUFF_20}
#    {BATTLE_ROYALE_SHRINK_MAP_AUTOMATIC}
#    {BATTLE_ROYALE_SHRINK_MAP_AUTOMATIC_MORE_FORGIVING}
#since the map is so huge, make it shrink twice as slowly
    {BATTLE_ROYALE_SHRINK_MAP_AUTOMATIC_COLOSSAL}

#    {BATTLE_ROYALE_SPAWNENEMEIES 2 8 "Giant Rat"}
#    {BATTLE_ROYALE_SPAWNENEMEIES 6 6 "Giant Rat"}
#    {BATTLE_ROYALE_SPAWNENEMEIES 15 5 "Giant Rat"}

    {BATTLE_ROYALE_SPAWNENEMEIES 1 80 "Giant Rat,Walking Corpse,Goblin Spearman,Vampire Bat"}
    {BATTLE_ROYALE_SPAWNENEMEIES 10 36 "Soulless,Wolf,Giant Mudcrawler,Skeleton,Blood Bat,Goblin Impaler,Fire Guardian"}
    {BATTLE_ROYALE_SPAWNENEMEIES 18 12 "Great Wolf,Dread Bat,Fire Wraith,Revenant,Bone Shooter"}

    [event]
        name=prestart
        {VARIABLE battle_royale_ghostturn 28}#ghosts spawn much later than usual
        #since the level is so huge, spawn multiple bosses:
        [unit]
            type=Yeti
            random_traits=yes
            generate_name=yes
            side=$battle_royale_enemyside
            x,y=32,27
            placement=map
            passable=yes
        [/unit]
        [unit]
            type=Armageddon Drake
            random_traits=yes
            generate_name=yes
            side=$battle_royale_enemyside
            x,y=73,102
            placement=map
            passable=yes
        [/unit]
        [unit]
            type=Ancient Lich
            random_traits=yes
            generate_name=yes
            side=$battle_royale_enemyside
            x,y=82,27
            placement=map
            passable=yes
        [/unit]
        #center guardian, with pretty extreme stat buffs:
        [unit]
            id=maze_guardian
            name=_"Maze Guardian"
            type=Royal Guard
            random_traits=yes
            generate_name=yes
            side=$battle_royale_enemyside
            x,y=59,64
            placement=map
            passable=yes
            level=7#drops a lot of loot when killed
            [modifications]
                [trait]
                    id=maze_guardian
                    male_name=_"maze_guardian"
                    [effect]
                        apply_to=attack
                        range=melee
                        increase_damage=75%
                    [/effect]
                    [effect]
                        apply_to=hitpoints
                        increase_total=150%
                    [/effect]
                    [effect]
                        apply_to=new_ability
                        [abilities]
                            {ABILITY_REGENERATES}
                        [/abilities]
                    [/effect]
                [/trait]
            [/modifications]
        [/unit]

    [/event]
[/multiplayer]
#endif

[modification]
    id=Battle_Royale_Item_Mod
    name=_"Battle Royale Item Mod"
    description=_"Enables the battle royale maps' item scatter/item drop mechanics in other maps/scenarios. By default only AI-controlled units drop items on death, but that can be changed in match options

Not balanced, doesn't stack with battle royale scenarios."
    require_modification=no
    type=hybrid
    [options]
        [checkbox]
            id=battleroyale_see_items_in_fog
            default=no
            name="Can see items in fog"
            description="If enabled, you will be able to see items through fog."
        [/checkbox]
        [checkbox]
            id=battleroyale_mod_ai_pickup
            default=no
            name="Can AI take items"
            description="If enabled, all AI units will be able to pick up items, just like human players, and will actively move to take them. Recommended to turn this off for survivals and other PvE matches, and recommended to turn it on for PvP with AI sides."
        [/checkbox]
        [checkbox]
            id=battleroyale_mod_ai_drop
            default=yes
            name="Only AI sides drop items"
            description="If enabled, only AI-controlled sides drop items on death. Recommended to be enabled for survivals/other PvE matches, recommended to be turned off for pvp matches"
        [/checkbox]
        [checkbox]
            id=battleroyale_item_mod_noscatter
            default=no
            name="Disable item scatter at start"
            description="If enabled, items aren't randomly scattered across the map at start, and the only way to get items is from killing enemies."
        [/checkbox]
        [checkbox]
            id=battleroyale_item_mod_disableportals
            default=yes
            name="Disable Portals"
            description="Disables the 'Portal' common item (that teleports units to a random tile). It is recommended to leave this enabled for custom scenarios since it can break some of them, but for normal maps you can just disable this option."
        [/checkbox]
        {BATTLE_ROYALE_SHARED_SETTINGS}
        [slider]
            id=battleroyale_item_mod_scatter_multiplier_percentage
            default=100
            min=20
            max=1000
            step=20
            name=_"Item scatter percentage"
            description=_"How many items scatter at the start of the map, in percents compared to how many items spawn in a 9p battle royale match."
        [/slider]
    [/options]
    [event]
        name=prestart
        {VARIABLE battleroyale_noloot no}
        #variable to let the item code know it's being used outside a battle royale scenario
        {IF_VAR battle_royale_enemyside equals $emptyvar (
        [then]
            {VARIABLE battle_royale_item_mod yes}
        [/then]
        )}
    [/event]
    {BATTLE_ROYALE_ITEMSCATTER_EVENT}
    {BATTLE_ROYALE_ITEM_SPAWN_EVENTS}
    {BATTLE_ROYALE_ITEMDROP_EVENTS}
    {BATTLEROYALE_ITEM_EFFECT_EVENTS}
[/modification]
